{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"25.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n  exports: [\n    HomePage\n  ]\n})\nexport class HomeModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component, ViewChild, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, Content } from 'ionic-angular';\nimport { Headers, Http } from '@angular/http';\nimport { UserService } from '../../service/user.service';\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  @ViewChild(Content) content: Content;\n\n  tabanimate: boolean = false;\n  isload: boolean = false;\n  spanisload: boolean = false;\n  old_scrollTop = 0;\n  new_scrollTop = 0;\n\n  ontouchstartY = 0;\n  ontouchmoveY = 0;\n  loadX: any = \"-50px\";\n  checkload = true;\n  itimer: any = null;\n\n  //数据\n  items = [];\n\n\n  constructor(public http: Http, public navCtrl: NavController, public ref: ChangeDetectorRef, public UserService: UserService) {\n    this.UserService.presentLoadingDefault();\n    this.getdata();\n  }\n\n  //获取数据\n  getdata() {\n    let url = \"http://www.devonhello.com/chihu/home\";\n\n    var headers = new Headers();\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\n\n    this.http.post(url, \"len=1\", {\n      headers: headers\n    })\n      .subscribe((res) => {\n        this.items = this.items.concat(res.json());\n        this.UserService.presentLoadingDismiss();\n      });\n  }\n\n  openSearch() {\n    this.navCtrl.push('Search');\n  }\n\n  ionViewDidLoad() {\n    this.content.enableJsScroll();\n  }\n\n  onScroll($event: any) {\n\n    this.isload = false;\n    this.loadX = \"-50px\";\n\n    let scrollTop = $event.scrollTop;\n    console.log($event.scrollTop);\n    if ($event.scrollTop == 0 && !this.checkload) {\n      this.checkload = true;\n    }\n\n    if (scrollTop > 50 && (this.old_scrollTop - scrollTop) < 0) {\n      if (!this.tabanimate) {\n        this.tabanimate = true;\n      }\n\n    } else {\n      this.tabanimate = false;\n    }\n    this.old_scrollTop = scrollTop;\n    this.ref.detectChanges();\n  }\n\n  //打开页面\n  pushAnswerPage(_id) {\n    this.navCtrl.push('AnswerPage', {\n      _id: _id\n    });\n  }\n\n  //打开页面\n  pushQuestionPage(_id) {\n    this.navCtrl.push('Question', {\n      _id: _id\n    });\n  }\n\n  //打开页面\n  pushArticlePage(_id) {\n    this.navCtrl.push('Article', {\n      _id: _id\n    });\n  }\n\n  //创建菜谱\n  CreateCook() {\n    this.checkLogin('CreateCookTitle')\n    //this.navCtrl.push('Login');\n  }\n\n  //提问\n  CreateQuestion() {\n    this.checkLogin('CreateQuestionType');\n    //this.navCtrl.push('CreateQuestionType');\n  }\n\n  //分享\n  CreateShare() {\n    this.checkLogin('CreateShare');\n    //this.navCtrl.push('CreateShare');\n  }\n\n  //检查登录状态\n  checkLogin(page) {\n\n    if (this.UserService._user._id) {\n      this.navCtrl.push(page);\n    } else {\n      this.navCtrl.push('Login');\n    }\n  }\n  doInfinite(infiniteScroll) {\n    alert('Begin async operation');\n\n    setTimeout(() => {\n\n      infiniteScroll.complete();\n    }, 3000);\n  }\n\n  ontouchstart($event: any) {\n    //console.log($event.touches[0].clientY);\n    clearTimeout(this.itimer);\n    this.ontouchstartY = $event.touches[0].clientY;\n    this.spanisload = false;\n\n  }\n\n  ontouchmove($event: any) {\n    if (!this.checkload && this.old_scrollTop != 0) {\n      return false;\n    }\n    this.ontouchmoveY = Math.floor($event.touches[0].clientY - this.ontouchstartY);\n\n    if (this.ontouchmoveY >= 105) {\n      this.ontouchmoveY = 105;\n    }\n    this.loadX = this.ontouchmoveY + 'px';\n  }\n\n  ontouchend($event: any) {\n    this.isload = true;\n    this.spanisload = true;\n    var _that = this;\n\n    if (this.ontouchmoveY >= 105) {\n      this.itimer = setTimeout(() => {\n        _that.isload = false;\n        _that.loadX = \"-50px\";\n      }, 5000);\n    } else {\n      _that.isload = false;\n      _that.loadX = \"-50px\";\n    }\n    this.checkload = false;\n\n  }\n\n  ionViewWillLeave() {\n    this.UserService.presentLoadingDismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}